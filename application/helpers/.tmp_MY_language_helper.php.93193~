<?php  if (!defined('BASEPATH')) exit('No direct script access allowed');


/**
 * Lang Get
 *
 * Fetches a language variable and optionally outputs a from multi langauge string 
 *
 * @access	public
 * @param	string	multi langauge string
 * @param	string	langauge
 * @return	string
 */	
if ( ! function_exists('lang_get'))
{
	function lang_get($data = FALSE,$langauge = 'th')
	{
		if($data)
		{
			$content = str_replace("\n", "<br />", $content);
			preg_match("/\[$lang\](?P<$lang>.+?)\[\/$lang\]/i", $content, $data);
			@$data[$lang] = str_replace("<br />", "\n", @$data[$lang]);
			return @$data[$lang];
		}
		else
		{
			return FALSE;
		}
	}
}

// ------------------------------------------------------------------------

/**
 * Lang Split
 *
 * Fetches a multi langauge string to associate array
 *
 * @access	public
 * @param	multi langauge string
 * @return	string
 */
if ( ! function_exists('lang_split'))
{
	function lang_split($content)
	{
		return array_combine(preg_split('/(\].+\[\/)|\[|\]/i', $content,-1,PREG_SPLIT_NO_EMPTY ),preg_split('/\[[^\]]*[^\/]\]/i', $content,-1,PREG_SPLIT_NO_EMPTY ));
	}
}

// ------------------------------------------------------------------------

/**
 * Lang Merge
 *
 * Merge associate array to a multi langauge string
 *
 * @access	public
 * @param	array
 * @return	string
 */
if ( ! function_exists('lang_merge'))
{
	function lang_merge($array = FALSE)
	{
		if($array)
		{
			foreach($content as $key => $value)
			{
				$multilang .= '['.$key.']'.$value.'[/'.$key.']';
			}
			return $multilang;
		}
	}
}

// ------------------------------------------------------------------------
/* End of file MY_language_helper.php */
/* Location: ./application/helpers/MY_language_helper.php */